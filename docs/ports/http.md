Этот код реализует HTTP-сервер для обработки запросов, связанных с регистрацией, логином и получением информации о пользователе, используя внутренние команды и запросы из пакета приложения (`app`).

### 1. Структура `Server`
```go
type Server struct {
	app *app.Application
}
```
- Структура `Server` содержит объект приложения `app`, который инкапсулирует бизнес-логику и команды для обработки запросов.

### 2. Функции для создания сервера
```go
func NewHTTPServer(app *app.Application) *Server
```
- Функция создает новый экземпляр HTTP-сервера, используя объект `app`, который содержит необходимые команды и запросы для обработки данных.

### 3. Методы для обработки HTTP-запросов

#### `RegisterUser`
```go
func (s Server) RegisterUser(w http.ResponseWriter, r *http.Request)
```
- Метод обрабатывает запросы на регистрацию нового пользователя. Он декодирует тело запроса в структуру `PostRegister` и вызывает команду `RegisterUser` приложения, передавая ей UUID, email и пароль пользователя. Если пользователь уже существует или есть другие ошибки, возвращается соответствующий HTTP-ответ с кодом ошибки.

#### `LoginUser`
```go
func (s Server) LoginUser(w http.ResponseWriter, r *http.Request)
```
- Этот метод обрабатывает запросы на авторизацию пользователя. После декодирования данных запроса, вызывается запрос `LoginUser`, который проверяет учетные данные пользователя. Если авторизация успешна, генерируется JWT токен и возвращается клиенту. В случае неверных данных возвращается ошибка с кодом 401 (Unauthorized).

#### `GetUser`
```go
func (s Server) GetUser(w http.ResponseWriter, r *http.Request, uuid string)
```
- Метод возвращает информацию о пользователе по его UUID, вызывая запрос `GetUser`. Если пользователь не найден, возвращается HTTP-ответ с кодом 404 (Not Found).

### Вспомогательные функции

#### `httpError`
```go
func httpError(w http.ResponseWriter, r *http.Request, err error, code int)
```
- Утилитарная функция для отправки HTTP-ответа с кодом ошибки и сообщением об ошибке в формате JSON.

#### `mapUserToAPI`
```go
func mapUserToAPI(user query.User) User
```
- Функция для маппинга данных пользователя из внутренней структуры `query.User` в структуру `User`, которая будет отправлена в ответе клиенту.

### Заключение
Этот пакет предоставляет реализацию HTTP-сервера для обработки регистрации, авторизации и получения информации о пользователях. Все операции поддерживаются бизнес-логикой из объекта приложения `app` и выполняются через команды и запросы.